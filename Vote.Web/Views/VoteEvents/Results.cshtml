@model Vote.Web.Data.Entities.VoteEvent

@{
	ViewData["Title"] = "Details";
}

<h1>Results</h1>

<div>
	<h4>Voting Results</h4>
	<p>
		<a asp-action="CreateCandidate" asp-route-id="@Model.Id" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i> Create Candidate</a>
	</p>
	<hr />

	<div class="row">
		<div class="col-sm-2">
			@Html.DisplayNameFor(model => model.Name)
		</div>
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Candidates</h3>
				</div>
				<div class="panel-body">
					<table class="table table-hover table-responsive table-striped" id="CandidatesTable">
						<thead>
							<tr>
								<th>
									@Html.DisplayNameFor(model => model.Candidates.First().ImageUrl)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.Candidates.First().Name)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.Candidates.First().Proposal)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.Candidates.First().VoteResult)
								</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var candidate in Model.Candidates)
							{
								<tr>
									<td>
										@if (!string.IsNullOrEmpty(candidate.ImageUrl))
										{
											<img src="@Url.Content(candidate.ImageUrl)" alt="Image" style="width:75px;height:75px;max-width: 100%; height: auto;" />
										}
									</td>
									<td>
										@Html.DisplayFor(modelCandidate => candidate.Name)
									</td>
									<td>
										@Html.DisplayFor(modelCandidate => candidate.Proposal)
									</td>
									<td>
										@Html.DisplayFor(modelCandidate => candidate.VoteResult)
									</td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<div>
	<a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
	<a asp-action="Index">Back to List</a>
</div>